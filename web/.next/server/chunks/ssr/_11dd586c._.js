module.exports=[15618,a=>{"use strict";let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],15618)},56115,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({siteKey:a,onVerify:d,onError:e,theme:f="dark"}){let g=(0,c.useRef)(null),h=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(!document.getElementById("cf-turnstile-script")){let a=document.createElement("script");a.src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",a.id="cf-turnstile-script",a.async=!0,a.defer=!0,document.head.appendChild(a)}let b=()=>{window.turnstile&&g.current&&!h.current&&(h.current=window.turnstile.render(g.current,{sitekey:a,theme:f,callback:a=>d(a),"error-callback":()=>e?.()}))};if(window.turnstile)b();else{let a=setInterval(()=>{window.turnstile&&(clearInterval(a),b())},100);return()=>clearInterval(a)}return()=>{h.current&&window.turnstile&&(window.turnstile.remove(h.current),h.current=null)}},[a,f]),(0,b.jsx)("div",{ref:g,style:{minHeight:"65px",minWidth:"300px"}})}a.s(["default",()=>d])},5050,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(20611),g=a.r(1722),h=a.r(38783)},12558,19879,a=>{"use strict";var b=a.i(5050);let c=(0,b.createServerReference)("0018c6db43529b3ca9c55f1a4bb647fb8415811d1d",b.callServer,void 0,b.findSourceMapURL,"getProfilesAction");a.s(["getProfilesAction",()=>c],12558);let d=(0,b.createServerReference)("407fa483aadb683ffaf8d267be44a2d4010bfbd905",b.callServer,void 0,b.findSourceMapURL,"createProfileAction");a.s(["createProfileAction",()=>d],19879)},39111,a=>{"use strict";var b=a.i(5050);let c=(0,b.createServerReference)("4009cb87dbf8261408287db81f95ca338a80372201",b.callServer,void 0,b.findSourceMapURL,"switchProfileAction");a.s(["switchProfileAction",()=>c])},74463,a=>{"use strict";var b=a.i(5050);let c=(0,b.createServerReference)("40fc0c27050575de9cc323afb67bce1d8322753d08",b.callServer,void 0,b.findSourceMapURL,"deleteProfileAction");a.s(["deleteProfileAction",()=>c])},26688,a=>{"use strict";var b=a.i(5050);let c=(0,b.createServerReference)("40c7e6cc5ffa74f4aaa5de5b158ce112ad5e6af404",b.callServer,void 0,b.findSourceMapURL,"updateProfileAction");a.s(["updateProfileAction",()=>c])},17456,a=>{a.v({actionButtons:"Profiles-module__Dohnjq__actionButtons",addButton:"Profiles-module__Dohnjq__addButton",avatar:"Profiles-module__Dohnjq__avatar",avatarWrapper:"Profiles-module__Dohnjq__avatarWrapper",cancelButton:"Profiles-module__Dohnjq__cancelButton",cardSpinner:"Profiles-module__Dohnjq__cardSpinner",categorySection:"Profiles-module__Dohnjq__categorySection",categoryTitle:"Profiles-module__Dohnjq__categoryTitle",container:"Profiles-module__Dohnjq__container",deleteButton:"Profiles-module__Dohnjq__deleteButton",editAvatarPreview:"Profiles-module__Dohnjq__editAvatarPreview",editContainer:"Profiles-module__Dohnjq__editContainer",editContent:"Profiles-module__Dohnjq__editContent",editForm:"Profiles-module__Dohnjq__editForm",editHeader:"Profiles-module__Dohnjq__editHeader",editIcon:"Profiles-module__Dohnjq__editIcon",editOverlay:"Profiles-module__Dohnjq__editOverlay",editTitle:"Profiles-module__Dohnjq__editTitle",fadeIn:"Profiles-module__Dohnjq__fadeIn",input:"Profiles-module__Dohnjq__input",loadingContainer:"Profiles-module__Dohnjq__loadingContainer",manageButton:"Profiles-module__Dohnjq__manageButton",pickerGrid:"Profiles-module__Dohnjq__pickerGrid",pickerHeader:"Profiles-module__Dohnjq__pickerHeader",pickerItem:"Profiles-module__Dohnjq__pickerItem",pickerOverlay:"Profiles-module__Dohnjq__pickerOverlay",pickerScrollContent:"Profiles-module__Dohnjq__pickerScrollContent",previewImage:"Profiles-module__Dohnjq__previewImage",profileCard:"Profiles-module__Dohnjq__profileCard",profileGrid:"Profiles-module__Dohnjq__profileGrid",profileName:"Profiles-module__Dohnjq__profileName",saveButton:"Profiles-module__Dohnjq__saveButton",slideUp:"Profiles-module__Dohnjq__slideUp",spin:"Profiles-module__Dohnjq__spin",spinner:"Profiles-module__Dohnjq__spinner",spinnerSmall:"Profiles-module__Dohnjq__spinnerSmall",title:"Profiles-module__Dohnjq__title",turnstileWrapper:"Profiles-module__Dohnjq__turnstileWrapper"})},26842,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(17456),f=a.i(12558),g=a.i(19879),h=a.i(39111),i=a.i(74463),j=a.i(26688),k=a.i(56115),l=a.i(10448),m=a.i(15618),n=a.i(52396);let o={"Stranger Things":["https://i.ibb.co/N6x3VF66/AAAABSo-jd-QDT6-VMJr7-Va-Lx-XSAWia-Dwya15-Zpqe7r5-z-Iwc8-Y70d2p3a-RC-r-Kk-LCxgak-AKf-lj-VW1-Uma-fx-R06es.png","https://i.ibb.co/ndBXZMf/AAAABULyt-B835457fm5-Y0-T4-E52fuj-CDj-IMKzkqrk-T9v-UXg-Avxq-LXz26t-Ct-DJGG5-KMCpe-UFc-IJc-BDh-Pl-VKaws-Z.png","https://i.ibb.co/0jQPBLHs/AAAABby-CFMx-Hi-QFn-Flr-HYnwm-Jcam-LTSWqz-M8-W-r1t-Sg1-NL51m-Cu8v-m-GIJLmdj-N3g-W-6-SN3-Fi8l-Yl-Xl-ZHY83.png","https://i.ibb.co/ycvdGVDM/AAAABZ1-Xom-GA7-Sa-DOQ4w-Xc-U-Jky-Hq-Zjz-PBZHj-D57k-Lt-Uw-YOKt-Ym8-MXX7-OU54kg-z-QT-f-RWv-UDj3-QTq5-ZVXf-S.png"],Lucifer:["https://i.ibb.co/dwNB3356/AAAABZTO6i-Ld-MK66-Sb-Fd-LYOsu-WNQSy-Ua-FD8-GPNp-Auhn2-U7s-Ufv95jj5-Kb7-Gqr6-CSayp-CIj-Oi7ldgq-JPejm-XVud.png","https://i.ibb.co/gFMWK0k1/AAAABW75gw1fd6-E-71-Wu7xy-PYjr-Wov-Pjv-Fy-Qt8e1x-Qy44c-Rj-Yqd-TVWc947w-ZWX089gg-XDRzxg-a-Ubb-Y8-Bo-H2-TA.png","https://i.ibb.co/s9jYxdSw/AAAABTRrsz-1ts-M-2m-bz-EY8s-VHp3-NZKYjuf-MMy-X8p63x-MM5a-Nza3kluw3-ccux-MNPJ5ft-TOv-Nczlx-D094-Www-Div.png"],"The Witcher":["https://i.ibb.co/4w14nd6F/AAAABe-QVP3-Hvz-LKP1d-E6-BP5-BAkvs4-f-JKzj5p-IAyo-B4-Fld25dl-DAAQ-MW8-Wy2-O-L2qs-U5l-CENVQjr-LRFQmcyam-Pgn.png","https://i.ibb.co/NndGNKM0/AAAABb8b7-p43y-Jw3j-AQF6p-TNc4-F0rkv-BXb-LZAKZsc-Usw-VI-X2-Avtjdox-BSMyw-Hk-FQmv9-MIhe-m-Hy-IJxghqj-M5-S.png","https://i.ibb.co/1YZ0bWQs/AAAABd-GOg-Or-DX96v-Yc-S8x-UKBfaf-HTDP2-Qx-Ohl-IIar-O3le-G8-Tl-KFQ9-Vlmn6mz-AJJQBOhcj5-UL8f-Tz-Kz-TTPS2.png"],"Outer Banks":["https://i.ibb.co/LdjFTSF9/AAAABb-CTHBMt-KGXNw6u-U1lip-XZii9-N8-SAdql-Gsfj-UUO6bn-Sda152-Fbr1m25k-G6a-Iqcng-Hk-LRk-ODT6b8g2u-Hx9o.png","https://i.ibb.co/H9gxvhx/AAAABckq-Qwm-ATm-FM6-XMGph7d-Lk-Qg0i1r0h-Ak8h-Wam5-RFAJDx-N05ua-QHQh-Xo1z5-B-t-Sgxu4-UZRIFv-Gju-Ko-Mb4j.png","https://i.ibb.co/3Yd1hqHT/AAAABQb-L2f20m-GC4-Y859-IVbe-JCy-WZFe-Pl-Gc-BKlzbe-WLRFwz-Ul76ci-P1p-OO8j-KAXi-PWu-BPHepb-V2b-sk-L84z.png","https://i.ibb.co/C5fQ9Z68/AAAABc5zk4i-Uqh-CDL4k-N0i-H3n-Zjyg-jzv-KNBib-MQsv0-Nb-ZR2qn-O46-Esg-Vs-MP8-ITwvt-Na-BMWTfnse-YEIss-Ii7-D.png"],"La Casa de Papel":["https://i.ibb.co/nqPfS4d6/AAAABVrl86-Z63fibn4z-JIZE1g-W3-JGr-ric40bd-TPDk3j-GUSS-Nb-Zwb6b-Uo-Gj-He-D3k-HMREUPTtcy-Hum-Ui-MDVp13y.png","https://i.ibb.co/678mhcFR/AAAABZbs-Wc-BAKful-E6f-F1-Lmh-El1fr7x-Kkj-Dnoa-TCE0-Tg-Y4-PMr22-Sswku-Ljgaya-GKm-A740if-Ua-BA63-T-FF-6-Ca.png"],"Original Kyno+":["https://api.dicebear.com/7.x/notionists/svg?seed=Felix","https://api.dicebear.com/7.x/notionists/svg?seed=Aneka","https://api.dicebear.com/7.x/adventurer/svg?seed=Zoey","https://api.dicebear.com/7.x/adventurer/svg?seed=Jack","https://api.dicebear.com/7.x/micah/svg?seed=Milo","https://api.dicebear.com/7.x/micah/svg?seed=Lola","https://api.dicebear.com/7.x/avataaars/svg?seed=Rocky","https://api.dicebear.com/7.x/avataaars/svg?seed=Luna","https://api.dicebear.com/7.x/bottts/svg?seed=Robot1","https://api.dicebear.com/7.x/bottts/svg?seed=Robot2"]};function p(){let a=(0,d.useRouter)(),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1);(0,c.useEffect)(()=>{"true"===new URLSearchParams(window.location.search).get("manage")&&u(!0)},[]);let[v,w]=(0,c.useState)("SELECT"),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(o["Original Kyno+"][0]),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),J=(0,n.useToast)(),[K,L]=(0,c.useState)(null);(0,c.useEffect)(()=>{M()},[]);let M=async()=>{s(!0);let{profiles:a,error:b}=await (0,f.getProfilesAction)();a&&q(a),s(!1)},N=async b=>{if(K)return;if(t){let a=p.find(a=>a.id===b);a&&(y(a),A(a.name),C(a.avatar_url),w("EDIT"));return}L(b);let{success:c}=await (0,h.switchProfileAction)(b);c?a.push("/"):(L(null),J.error("Erro ao acessar perfil."))},O=async()=>{if(!z.trim())return void J.error("Digite um nome para o perfil.");I(!0);let a=new FormData;if(a.append("name",z),a.append("avatar",B),"EDIT"===v&&x){a.append("id",x.id);let b=await (0,j.updateProfileAction)(a);b.error?J.error(b.error):(J.success("Perfil atualizado com sucesso!"),await M(),w("SELECT"),u(!1))}else{if(!F){J.error("Complete a verificação de segurança (Captcha)."),I(!1);return}a.append("cf-turnstile-response",F);let b=await (0,g.createProfileAction)(a);b.error?(J.error(b.error),window.turnstile&&window.turnstile.reset(),G("")):(J.success("Perfil criado com sucesso!"),await M(),w("SELECT"))}I(!1)},P=async()=>{!x||confirm("Excluir este perfil permanentemente?")&&(await (0,i.deleteProfileAction)(x.id),await M(),w("SELECT"),u(!1))};return r?(0,b.jsx)("div",{className:e.default.loadingContainer,children:(0,b.jsx)("div",{className:e.default.spinner})}):"CREATE"===v||"EDIT"===v?(0,b.jsxs)("div",{className:e.default.container,children:[(0,b.jsxs)("div",{className:e.default.editContainer,children:[(0,b.jsxs)("div",{className:e.default.editHeader,children:[(0,b.jsx)("h1",{className:e.default.editTitle,children:"EDIT"===v?"Editar Perfil":"Adicionar Perfil"}),(0,b.jsx)("p",{style:{color:"#94a3b8",fontSize:"1.1rem",marginTop:"0.5rem"},children:"EDIT"===v?"Personalize seu espaço.":"Crie um espaço para outra pessoa."})]}),(0,b.jsxs)("div",{className:e.default.editContent,children:[(0,b.jsxs)("div",{className:e.default.editAvatarPreview,children:[(0,b.jsx)("img",{src:B,alt:"Avatar",className:e.default.previewImage}),(0,b.jsx)("div",{className:e.default.editIcon,onClick:()=>E(!0),children:(0,b.jsx)(l.Edit2,{size:24})})]}),(0,b.jsxs)("div",{className:e.default.editForm,children:[(0,b.jsx)("div",{className:e.default.inputGroup,children:(0,b.jsx)("input",{className:e.default.input,placeholder:"Nome do Perfil",value:z,onChange:a=>A(a.target.value),maxLength:20})}),"CREATE"===v&&(0,b.jsx)("div",{className:e.default.turnstileWrapper,children:(0,b.jsx)(k.default,{siteKey:process.env.NEXT_PUBLIC_TURNSTILE_SITE_KEY,onVerify:G,theme:"dark"})}),(0,b.jsxs)("div",{className:e.default.actionButtons,children:[(0,b.jsx)("button",{className:e.default.saveButton,onClick:O,disabled:H,children:H?"Salvando...":"Salvar"}),(0,b.jsx)("button",{className:e.default.cancelButton,onClick:()=>{w("SELECT")},children:"Cancelar"}),"EDIT"===v&&(0,b.jsx)("button",{onClick:P,className:e.default.deleteButton,children:"Excluir Perfil"})]})]})]})]}),D&&(0,b.jsxs)("div",{className:e.default.pickerOverlay,children:[(0,b.jsx)("div",{className:e.default.pickerHeader,children:(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer"},onClick:()=>E(!1),children:[(0,b.jsx)("span",{style:{color:"#fff",fontSize:"1.5rem"},children:"←"}),(0,b.jsx)("h2",{style:{fontSize:"2rem",margin:0,fontWeight:500},children:"Escolher Avatar"})]})}),(0,b.jsx)("div",{className:e.default.pickerScrollContent,children:Object.entries(o).map(([a,c])=>(0,b.jsxs)("div",{className:e.default.categorySection,children:[(0,b.jsx)("h3",{className:e.default.categoryTitle,children:a}),(0,b.jsx)("div",{className:e.default.pickerGrid,children:c.map((a,c)=>(0,b.jsx)("img",{src:a,className:e.default.pickerItem,onClick:()=>{C(a),E(!1)}},c))})]},a))})]})]}):(0,b.jsxs)("div",{className:e.default.container,children:[(0,b.jsx)("h1",{className:e.default.title,children:"Quem está assistindo?"}),(0,b.jsxs)("div",{className:e.default.profileGrid,children:[p.map(a=>(0,b.jsxs)("div",{className:e.default.profileCard,onClick:()=>N(a.id),style:{opacity:K&&K!==a.id?.3:1},children:[(0,b.jsxs)("div",{className:e.default.avatarWrapper,children:[(0,b.jsx)("img",{src:a.avatar_url,alt:a.name,className:e.default.avatar}),t&&(0,b.jsx)("div",{className:e.default.editOverlay,children:(0,b.jsx)(l.Edit2,{size:32})}),K===a.id&&(0,b.jsx)("div",{className:e.default.cardSpinner,children:(0,b.jsx)("div",{className:e.default.spinnerSmall})})]}),(0,b.jsx)("span",{className:e.default.profileName,children:K===a.id?"Entrando...":a.name})]},a.id)),p.length<3&&!t&&(0,b.jsxs)("div",{className:e.default.profileCard,onClick:()=>{A(""),C(o["Original Kyno+"][0]),G(""),w("CREATE")},children:[(0,b.jsx)("div",{className:e.default.addButton,children:(0,b.jsx)(m.Plus,{size:64})}),(0,b.jsx)("span",{className:e.default.profileName,children:"Adicionar"})]})]}),(0,b.jsx)("button",{className:e.default.manageButton,onClick:()=>u(!t),children:t?"Concluído":"Gerenciar Perfis"})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=_11dd586c._.js.map