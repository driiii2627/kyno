module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},6901,80494,a=>{"use strict";var b=a.i(45618);let c=process.env.NEXT_PUBLIC_SUPABASE_URL,d=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,e=(0,b.createClient)(c,d),f=()=>{let a=process.env.SUPABASE_SERVICE_ROLE_KEY;if(!a)throw Error("Missing SUPABASE_SERVICE_ROLE_KEY environment variable");return(0,b.createClient)(c,a)};a.s(["getServiceSupabase",0,f,"supabase",0,e],80494),a.s(["contentService",0,{async getAppConfig(a,b){try{let{data:c,error:d}=await e.from("app_config").select("value").eq("key",a).single();if(d||!c)return b;return c.value}catch(c){return console.error(`Failed to fetch config for ${a}`,c),b}},async getMovieById(a){let{data:b,error:c}=await e.from("movies").select("tmdb_id, video_url").eq("id",a).single();return c||!b?null:{tmdb_id:b.tmdb_id,video_url:b.video_url}},async getSeriesById(a){let{data:b,error:c}=await e.from("series").select("tmdb_id, video_url").eq("id",a).single();return c||!b?null:{tmdb_id:b.tmdb_id,video_url:b.video_url}},async getItemByUuid(a){let[b,c]=await Promise.all([this.getMovieById(a),this.getSeriesById(a)]);return b?{type:"movie",...b}:c?{type:"tv",...c}:null},async getItemByTmdbId(a,b){let{data:c,error:d}=await e.from("movie"===b?"movies":"series").select("id").eq("tmdb_id",a).single();return{data:c,error:d}},async syncMovies(a){if(a.length)try{let b=f(),c=await this.getAppConfig("superflix_base_url","https://superflixapi.buzz"),d=a.map(a=>{let b=2025,d=a.release_date||a.first_air_date;if(d){let a=new Date(d);isNaN(a.getTime())||(b=a.getFullYear())}let e=a.genres?a.genres.map(a=>a.name).join(", "):"",f=a.runtime||0,g=`${c}/filme/${a.id}`;return{tmdb_id:a.id,video_url:g,title:a.title||a.name||"Sem Título",description:a.overview||"",poster_url:a.poster_path||"",backdrop_url:a.backdrop_path||"",release_year:b,rating:"number"==typeof a.vote_average?a.vote_average:0,genre:e,duration:f,type:"movie"}}),{error:e}=await b.from("movies").upsert(d,{onConflict:"tmdb_id",ignoreDuplicates:!1});e&&console.error("Sync Movies Error:",e)}catch(a){console.error("Sync Movies Exception:",a)}},async syncSeries(a){if(a.length)try{let b=f(),c=await this.getAppConfig("superflix_base_url","https://superflixapi.buzz"),d=a.map(a=>{let b=2025,d=a.first_air_date||a.release_date;if(d){let a=new Date(d);isNaN(a.getTime())||(b=a.getFullYear())}let e=a.genres?a.genres.map(a=>a.name).join(", "):"",f=`${c}/serie/${a.id}`;return{tmdb_id:a.id,video_url:f,title:a.name||a.title||"Sem Título",description:a.overview||"",poster_url:a.poster_path||"",backdrop_url:a.backdrop_path||"",release_year:b,rating:"number"==typeof a.vote_average?a.vote_average:0,genre:e}}),{error:e}=await b.from("series").upsert(d,{onConflict:"tmdb_id",ignoreDuplicates:!1});e&&console.error("Sync Series Error:",e)}catch(a){console.error("Sync Series Exception:",a)}},async getCatalogMovies(){let{data:a,error:b}=await e.from("movies").select("*").order("created_at",{ascending:!1});return b?(console.error("Error fetching movies from Supabase:",b),[]):a?a.map(a=>({id:a.tmdb_id,title:a.title||"Sem Título",poster_path:a.poster_url,backdrop_path:a.backdrop_url,overview:a.description,vote_average:a.rating||0,release_date:a.release_year?.toString(),video_url:a.video_url,supabase_id:a.id,genre:a.genre,genres:a.genre?[{id:0,name:a.genre}]:[],duration:a.duration})):[]},async getCatalogSeries(){let{data:a,error:b}=await e.from("series").select("*").order("created_at",{ascending:!1});return b?(console.error("Error fetching series from Supabase:",b),[]):a?a.map(a=>({id:a.tmdb_id,name:a.title||"Sem Título",title:a.title||"Sem Título",poster_path:a.poster_url,backdrop_path:a.backdrop_url,overview:a.description,vote_average:a.rating||0,first_air_date:a.release_year?.toString(),video_url:a.video_url,supabase_id:a.id,genre:a.genre,genres:a.genre?[{id:0,name:a.genre}]:[]})):[]}}],6901)},14619,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/home/Hero.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/home/Hero.tsx <module evaluation>","default")},6610,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/home/Hero.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/home/Hero.tsx","default")},31083,a=>{"use strict";a.i(14619);var b=a.i(6610);a.n(b)},3253,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/home/MovieRow.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/home/MovieRow.tsx <module evaluation>","default")},17039,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/home/MovieRow.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/home/MovieRow.tsx","default")},53926,a=>{"use strict";a.i(3253);var b=a.i(17039);a.n(b)},60168,a=>{"use strict";var b=a.i(7997),c=a.i(31083),d=a.i(53926),e=a.i(6901);function f(a,b=""){let c=Math.floor(Date.now()/(60*a*6e4)),d=0;for(let a=0;a<b.length;a++)d=(d<<5)-d+b.charCodeAt(a),d&=d;return c+d}function g(a,b){let c=a.map(a=>{let c=String(a.id||""),d=b;for(let a=0;a<c.length;a++)d=Math.imul(31,d)+c.charCodeAt(a)|0;return{item:a,score:d}});return c.sort((a,b)=>a.score-b.score),c.map(a=>a.item)}function h(a){let b=[...a];for(let a=b.length-1;a>0;a--){let c=Math.floor(Math.random()*(a+1));[b[a],b[c]]=[b[c],b[a]]}return b}async function i(){let a=[],i=[];try{try{[a,i]=await Promise.all([e.contentService.getCatalogMovies(),e.contentService.getCatalogSeries()])}catch(a){console.error("Failed to fetch catalog",a)}}catch(a){console.error("Failed to fetch data:",a)}let j=[...a,...i],k=h(j.filter(a=>{let b=a.release_date||a.first_air_date,c=b?new Date(b).getFullYear():0,d=a.vote_average||0;return c>=2001&&d>=5})).slice(0,6),l=g(a,f(6,"movies_v2")),m=g(i,f(5,"series_v2")),n=h(j).slice(0,20),o=g([...a].sort((a,b)=>(b.vote_average||0)-(a.vote_average||0)).slice(0,50),f(168,"top10movies")).slice(0,10),p=g([...i].sort((a,b)=>(b.vote_average||0)-(a.vote_average||0)).slice(0,50),f(168,"top10series")).slice(0,10),q=(a,b)=>a.filter(a=>{let c=a.genre?.toLowerCase()||"",d=a.genres?.map(a=>a.name.toLowerCase()).join(" ")||"",e=`${c} ${d}`;return b.some(a=>e.includes(a))}),r=q(a,["ação","action"]).slice(0,15),s=q(a,["comédia","comedy"]).slice(0,15),t=q(a,["terror","horror"]).slice(0,15);return(0,b.jsxs)("div",{style:{paddingBottom:"3rem"},children:[k.length>0&&(0,b.jsx)(c.default,{movies:k}),(0,b.jsxs)("div",{style:{position:"relative",zIndex:10,marginTop:"1.5rem"},children:[n.length>0&&(0,b.jsx)(d.default,{title:"Recomendados para Você",movies:n.slice(0,15),priority:!0,viewAllLink:"/category/filmes"}),o.length>0&&(0,b.jsx)(d.default,{title:"Filmes no Brasil Hoje",movies:o,variant:"top10"}),p.length>0&&(0,b.jsx)(d.default,{title:"Séries no Brasil Hoje",movies:p,variant:"top10"}),l.length>0&&(0,b.jsx)(d.default,{title:"Filmes",movies:l.slice(0,15),viewAllLink:"/category/filmes"}),m.length>0&&(0,b.jsx)(d.default,{title:"Séries",movies:m.slice(0,15),viewAllLink:"/category/series"}),r.length>0&&(0,b.jsx)(d.default,{title:"Ação e Aventura",movies:r,viewAllLink:"/category/acao"}),s.length>0&&(0,b.jsx)(d.default,{title:"Comédia",movies:s,viewAllLink:"/category/comedia"}),t.length>0&&(0,b.jsx)(d.default,{title:"Terror",movies:t,viewAllLink:"/category/terror"})]})]})}a.s(["default",()=>i,"dynamic",0,"force-dynamic","revalidate",0,0],60168)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__18ca78ba._.js.map