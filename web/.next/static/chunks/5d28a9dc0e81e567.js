(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let i=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>i],7233)},35482,e=>{"use strict";var i=e.i(43476),t=e.i(71645);function r({siteKey:e,onVerify:r,onError:a,theme:l="dark"}){let s=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,t.useEffect)(()=>{if(!document.getElementById("cf-turnstile-script")){let e=document.createElement("script");e.src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",e.id="cf-turnstile-script",e.async=!0,e.defer=!0,document.head.appendChild(e)}let i=()=>{window.turnstile&&s.current&&!n.current&&(n.current=window.turnstile.render(s.current,{sitekey:e,theme:l,callback:e=>r(e),"error-callback":()=>a?.()}))};if(window.turnstile)i();else{let e=setInterval(()=>{window.turnstile&&(clearInterval(e),i())},100);return()=>clearInterval(e)}return()=>{n.current&&window.turnstile&&(window.turnstile.remove(n.current),n.current=null)}},[e,l]),(0,i.jsx)("div",{ref:s,style:{minHeight:"65px",minWidth:"300px"}})}e.s(["default",()=>r])},95187,(e,i,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={callServer:function(){return l.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return s.findSourceMapURL}};for(var a in r)Object.defineProperty(t,a,{enumerable:!0,get:r[a]});let l=e.r(32120),s=e.r(92245),n=e.r(35326)},13314,13910,e=>{"use strict";var i=e.i(95187);let t=(0,i.createServerReference)("0018c6db43529b3ca9c55f1a4bb647fb8415811d1d",i.callServer,void 0,i.findSourceMapURL,"getProfilesAction");e.s(["getProfilesAction",()=>t],13314);let r=(0,i.createServerReference)("407fa483aadb683ffaf8d267be44a2d4010bfbd905",i.callServer,void 0,i.findSourceMapURL,"createProfileAction");e.s(["createProfileAction",()=>r],13910)},7241,e=>{"use strict";var i=e.i(95187);let t=(0,i.createServerReference)("4009cb87dbf8261408287db81f95ca338a80372201",i.callServer,void 0,i.findSourceMapURL,"switchProfileAction");e.s(["switchProfileAction",()=>t])},82161,e=>{"use strict";var i=e.i(95187);let t=(0,i.createServerReference)("40fc0c27050575de9cc323afb67bce1d8322753d08",i.callServer,void 0,i.findSourceMapURL,"deleteProfileAction");e.s(["deleteProfileAction",()=>t])},52744,e=>{"use strict";var i=e.i(95187);let t=(0,i.createServerReference)("40c7e6cc5ffa74f4aaa5de5b158ce112ad5e6af404",i.callServer,void 0,i.findSourceMapURL,"updateProfileAction");e.s(["updateProfileAction",()=>t])},90834,e=>{e.v({actionButtons:"Profiles-module__Dohnjq__actionButtons",addButton:"Profiles-module__Dohnjq__addButton",avatar:"Profiles-module__Dohnjq__avatar",avatarWrapper:"Profiles-module__Dohnjq__avatarWrapper",cancelButton:"Profiles-module__Dohnjq__cancelButton",cardSpinner:"Profiles-module__Dohnjq__cardSpinner",categorySection:"Profiles-module__Dohnjq__categorySection",categoryTitle:"Profiles-module__Dohnjq__categoryTitle",container:"Profiles-module__Dohnjq__container",deleteButton:"Profiles-module__Dohnjq__deleteButton",editAvatarPreview:"Profiles-module__Dohnjq__editAvatarPreview",editContainer:"Profiles-module__Dohnjq__editContainer",editContent:"Profiles-module__Dohnjq__editContent",editForm:"Profiles-module__Dohnjq__editForm",editHeader:"Profiles-module__Dohnjq__editHeader",editIcon:"Profiles-module__Dohnjq__editIcon",editOverlay:"Profiles-module__Dohnjq__editOverlay",editTitle:"Profiles-module__Dohnjq__editTitle",fadeIn:"Profiles-module__Dohnjq__fadeIn",input:"Profiles-module__Dohnjq__input",loadingContainer:"Profiles-module__Dohnjq__loadingContainer",manageButton:"Profiles-module__Dohnjq__manageButton",pickerGrid:"Profiles-module__Dohnjq__pickerGrid",pickerHeader:"Profiles-module__Dohnjq__pickerHeader",pickerItem:"Profiles-module__Dohnjq__pickerItem",pickerOverlay:"Profiles-module__Dohnjq__pickerOverlay",pickerScrollContent:"Profiles-module__Dohnjq__pickerScrollContent",previewImage:"Profiles-module__Dohnjq__previewImage",profileCard:"Profiles-module__Dohnjq__profileCard",profileGrid:"Profiles-module__Dohnjq__profileGrid",profileName:"Profiles-module__Dohnjq__profileName",saveButton:"Profiles-module__Dohnjq__saveButton",slideUp:"Profiles-module__Dohnjq__slideUp",spin:"Profiles-module__Dohnjq__spin",spinner:"Profiles-module__Dohnjq__spinner",spinnerSmall:"Profiles-module__Dohnjq__spinnerSmall",title:"Profiles-module__Dohnjq__title",turnstileWrapper:"Profiles-module__Dohnjq__turnstileWrapper"})},40975,e=>{"use strict";var i=e.i(47167),t=e.i(43476),r=e.i(71645),a=e.i(18566),l=e.i(90834),s=e.i(13314),n=e.i(13910),o=e.i(7241),d=e.i(82161),c=e.i(52744),u=e.i(35482),f=e.i(92930),p=e.i(7233),m=e.i(50891);let _={"Stranger Things":["https://i.ibb.co/N6x3VF66/AAAABSo-jd-QDT6-VMJr7-Va-Lx-XSAWia-Dwya15-Zpqe7r5-z-Iwc8-Y70d2p3a-RC-r-Kk-LCxgak-AKf-lj-VW1-Uma-fx-R06es.png","https://i.ibb.co/ndBXZMf/AAAABULyt-B835457fm5-Y0-T4-E52fuj-CDj-IMKzkqrk-T9v-UXg-Avxq-LXz26t-Ct-DJGG5-KMCpe-UFc-IJc-BDh-Pl-VKaws-Z.png","https://i.ibb.co/0jQPBLHs/AAAABby-CFMx-Hi-QFn-Flr-HYnwm-Jcam-LTSWqz-M8-W-r1t-Sg1-NL51m-Cu8v-m-GIJLmdj-N3g-W-6-SN3-Fi8l-Yl-Xl-ZHY83.png","https://i.ibb.co/ycvdGVDM/AAAABZ1-Xom-GA7-Sa-DOQ4w-Xc-U-Jky-Hq-Zjz-PBZHj-D57k-Lt-Uw-YOKt-Ym8-MXX7-OU54kg-z-QT-f-RWv-UDj3-QTq5-ZVXf-S.png"],Lucifer:["https://i.ibb.co/dwNB3356/AAAABZTO6i-Ld-MK66-Sb-Fd-LYOsu-WNQSy-Ua-FD8-GPNp-Auhn2-U7s-Ufv95jj5-Kb7-Gqr6-CSayp-CIj-Oi7ldgq-JPejm-XVud.png","https://i.ibb.co/gFMWK0k1/AAAABW75gw1fd6-E-71-Wu7xy-PYjr-Wov-Pjv-Fy-Qt8e1x-Qy44c-Rj-Yqd-TVWc947w-ZWX089gg-XDRzxg-a-Ubb-Y8-Bo-H2-TA.png","https://i.ibb.co/s9jYxdSw/AAAABTRrsz-1ts-M-2m-bz-EY8s-VHp3-NZKYjuf-MMy-X8p63x-MM5a-Nza3kluw3-ccux-MNPJ5ft-TOv-Nczlx-D094-Www-Div.png"],"The Witcher":["https://i.ibb.co/4w14nd6F/AAAABe-QVP3-Hvz-LKP1d-E6-BP5-BAkvs4-f-JKzj5p-IAyo-B4-Fld25dl-DAAQ-MW8-Wy2-O-L2qs-U5l-CENVQjr-LRFQmcyam-Pgn.png","https://i.ibb.co/NndGNKM0/AAAABb8b7-p43y-Jw3j-AQF6p-TNc4-F0rkv-BXb-LZAKZsc-Usw-VI-X2-Avtjdox-BSMyw-Hk-FQmv9-MIhe-m-Hy-IJxghqj-M5-S.png","https://i.ibb.co/1YZ0bWQs/AAAABd-GOg-Or-DX96v-Yc-S8x-UKBfaf-HTDP2-Qx-Ohl-IIar-O3le-G8-Tl-KFQ9-Vlmn6mz-AJJQBOhcj5-UL8f-Tz-Kz-TTPS2.png"],"Outer Banks":["https://i.ibb.co/LdjFTSF9/AAAABb-CTHBMt-KGXNw6u-U1lip-XZii9-N8-SAdql-Gsfj-UUO6bn-Sda152-Fbr1m25k-G6a-Iqcng-Hk-LRk-ODT6b8g2u-Hx9o.png","https://i.ibb.co/H9gxvhx/AAAABckq-Qwm-ATm-FM6-XMGph7d-Lk-Qg0i1r0h-Ak8h-Wam5-RFAJDx-N05ua-QHQh-Xo1z5-B-t-Sgxu4-UZRIFv-Gju-Ko-Mb4j.png","https://i.ibb.co/3Yd1hqHT/AAAABQb-L2f20m-GC4-Y859-IVbe-JCy-WZFe-Pl-Gc-BKlzbe-WLRFwz-Ul76ci-P1p-OO8j-KAXi-PWu-BPHepb-V2b-sk-L84z.png","https://i.ibb.co/C5fQ9Z68/AAAABc5zk4i-Uqh-CDL4k-N0i-H3n-Zjyg-jzv-KNBib-MQsv0-Nb-ZR2qn-O46-Esg-Vs-MP8-ITwvt-Na-BMWTfnse-YEIss-Ii7-D.png"],"La Casa de Papel":["https://i.ibb.co/nqPfS4d6/AAAABVrl86-Z63fibn4z-JIZE1g-W3-JGr-ric40bd-TPDk3j-GUSS-Nb-Zwb6b-Uo-Gj-He-D3k-HMREUPTtcy-Hum-Ui-MDVp13y.png","https://i.ibb.co/678mhcFR/AAAABZbs-Wc-BAKful-E6f-F1-Lmh-El1fr7x-Kkj-Dnoa-TCE0-Tg-Y4-PMr22-Sswku-Ljgaya-GKm-A740if-Ua-BA63-T-FF-6-Ca.png"],"Original Kyno+":["https://api.dicebear.com/7.x/notionists/svg?seed=Felix","https://api.dicebear.com/7.x/notionists/svg?seed=Aneka","https://api.dicebear.com/7.x/adventurer/svg?seed=Zoey","https://api.dicebear.com/7.x/adventurer/svg?seed=Jack","https://api.dicebear.com/7.x/micah/svg?seed=Milo","https://api.dicebear.com/7.x/micah/svg?seed=Lola","https://api.dicebear.com/7.x/avataaars/svg?seed=Rocky","https://api.dicebear.com/7.x/avataaars/svg?seed=Luna","https://api.dicebear.com/7.x/bottts/svg?seed=Robot1","https://api.dicebear.com/7.x/bottts/svg?seed=Robot2"]};function h(){let e=(0,a.useRouter)(),[h,v]=(0,r.useState)([]),[j,A]=(0,r.useState)(!0),[b,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{"true"===new URLSearchParams(window.location.search).get("manage")&&P(!0)},[]);let[g,x]=(0,r.useState)("SELECT"),[S,D]=(0,r.useState)(null),[N,y]=(0,r.useState)(""),[B,C]=(0,r.useState)(_["Original Kyno+"][0]),[T,k]=(0,r.useState)(!1),[w,q]=(0,r.useState)(""),[E,L]=(0,r.useState)(!1),I=(0,m.useToast)(),[M,R]=(0,r.useState)(null);(0,r.useEffect)(()=>{U()},[]);let U=async()=>{A(!0);let{profiles:e,error:i}=await (0,s.getProfilesAction)();e&&v(e),A(!1)},F=async i=>{if(M)return;if(b){let e=h.find(e=>e.id===i);e&&(D(e),y(e.name),C(e.avatar_url),x("EDIT"));return}R(i);let{success:t}=await (0,o.switchProfileAction)(i);t?e.push("/"):(R(null),I.error("Erro ao acessar perfil."))},O=async()=>{if(!N.trim())return void I.error("Digite um nome para o perfil.");L(!0);let e=new FormData;if(e.append("name",N),e.append("avatar",B),"EDIT"===g&&S){e.append("id",S.id);let i=await (0,c.updateProfileAction)(e);i.error?I.error(i.error):(I.success("Perfil atualizado com sucesso!"),await U(),x("SELECT"),P(!1))}else{if(!w){I.error("Complete a verificação de segurança (Captcha)."),L(!1);return}e.append("cf-turnstile-response",w);let i=await (0,n.createProfileAction)(e);i.error?(I.error(i.error),window.turnstile&&window.turnstile.reset(),q("")):(I.success("Perfil criado com sucesso!"),await U(),x("SELECT"))}L(!1)},W=async()=>{!S||confirm("Excluir este perfil permanentemente?")&&(await (0,d.deleteProfileAction)(S.id),await U(),x("SELECT"),P(!1))};return j?(0,t.jsx)("div",{className:l.default.loadingContainer,children:(0,t.jsx)("div",{className:l.default.spinner})}):"CREATE"===g||"EDIT"===g?(0,t.jsxs)("div",{className:l.default.container,children:[(0,t.jsxs)("div",{className:l.default.editContainer,children:[(0,t.jsxs)("div",{className:l.default.editHeader,children:[(0,t.jsx)("h1",{className:l.default.editTitle,children:"EDIT"===g?"Editar Perfil":"Adicionar Perfil"}),(0,t.jsx)("p",{style:{color:"#94a3b8",fontSize:"1.1rem",marginTop:"0.5rem"},children:"EDIT"===g?"Personalize seu espaço.":"Crie um espaço para outra pessoa."})]}),(0,t.jsxs)("div",{className:l.default.editContent,children:[(0,t.jsxs)("div",{className:l.default.editAvatarPreview,children:[(0,t.jsx)("img",{src:B,alt:"Avatar",className:l.default.previewImage}),(0,t.jsx)("div",{className:l.default.editIcon,onClick:()=>k(!0),children:(0,t.jsx)(f.Edit2,{size:24})})]}),(0,t.jsxs)("div",{className:l.default.editForm,children:[(0,t.jsx)("div",{className:l.default.inputGroup,children:(0,t.jsx)("input",{className:l.default.input,placeholder:"Nome do Perfil",value:N,onChange:e=>y(e.target.value),maxLength:20})}),"CREATE"===g&&(0,t.jsx)("div",{className:l.default.turnstileWrapper,children:(0,t.jsx)(u.default,{siteKey:i.default.env.NEXT_PUBLIC_TURNSTILE_SITE_KEY,onVerify:q,theme:"dark"})}),(0,t.jsxs)("div",{className:l.default.actionButtons,children:[(0,t.jsx)("button",{className:l.default.saveButton,onClick:O,disabled:E,children:E?"Salvando...":"Salvar"}),(0,t.jsx)("button",{className:l.default.cancelButton,onClick:()=>{x("SELECT")},children:"Cancelar"}),"EDIT"===g&&(0,t.jsx)("button",{onClick:W,className:l.default.deleteButton,children:"Excluir Perfil"})]})]})]})]}),T&&(0,t.jsxs)("div",{className:l.default.pickerOverlay,children:[(0,t.jsx)("div",{className:l.default.pickerHeader,children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",cursor:"pointer"},onClick:()=>k(!1),children:[(0,t.jsx)("span",{style:{color:"#fff",fontSize:"1.5rem"},children:"←"}),(0,t.jsx)("h2",{style:{fontSize:"2rem",margin:0,fontWeight:500},children:"Escolher Avatar"})]})}),(0,t.jsx)("div",{className:l.default.pickerScrollContent,children:Object.entries(_).map(([e,i])=>(0,t.jsxs)("div",{className:l.default.categorySection,children:[(0,t.jsx)("h3",{className:l.default.categoryTitle,children:e}),(0,t.jsx)("div",{className:l.default.pickerGrid,children:i.map((e,i)=>(0,t.jsx)("img",{src:e,className:l.default.pickerItem,onClick:()=>{C(e),k(!1)}},i))})]},e))})]})]}):(0,t.jsxs)("div",{className:l.default.container,children:[(0,t.jsx)("h1",{className:l.default.title,children:"Quem está assistindo?"}),(0,t.jsxs)("div",{className:l.default.profileGrid,children:[h.map(e=>(0,t.jsxs)("div",{className:l.default.profileCard,onClick:()=>F(e.id),style:{opacity:M&&M!==e.id?.3:1},children:[(0,t.jsxs)("div",{className:l.default.avatarWrapper,children:[(0,t.jsx)("img",{src:e.avatar_url,alt:e.name,className:l.default.avatar}),b&&(0,t.jsx)("div",{className:l.default.editOverlay,children:(0,t.jsx)(f.Edit2,{size:32})}),M===e.id&&(0,t.jsx)("div",{className:l.default.cardSpinner,children:(0,t.jsx)("div",{className:l.default.spinnerSmall})})]}),(0,t.jsx)("span",{className:l.default.profileName,children:M===e.id?"Entrando...":e.name})]},e.id)),h.length<3&&!b&&(0,t.jsxs)("div",{className:l.default.profileCard,onClick:()=>{y(""),C(_["Original Kyno+"][0]),q(""),x("CREATE")},children:[(0,t.jsx)("div",{className:l.default.addButton,children:(0,t.jsx)(p.Plus,{size:64})}),(0,t.jsx)("span",{className:l.default.profileName,children:"Adicionar"})]})]}),(0,t.jsx)("button",{className:l.default.manageButton,onClick:()=>P(!b),children:b?"Concluído":"Gerenciar Perfis"})]})}e.s(["default",()=>h])}]);